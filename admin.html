<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Notice Management</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üîß</text></svg>">
</head>
<body>
    <header>
        <div class="container">
            <h1>üîß Admin Panel</h1>
            <nav>
                <a href="/" class="back-link">‚Üê Back to Notices</a>
                <button id="logout-btn" class="logout-btn" style="display: none;">Logout</button>
            </nav>
        </div>
    </header>

    <main class="container">
        <!-- Login Section -->
        <section id="login-section" class="auth-section">
            <div class="auth-card">
                <h2>Admin Login</h2>
                <form id="login-form" class="form">
                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <input type="email" id="email" name="email" required 
                               placeholder="admin@example.com" autocomplete="email">
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" name="password" required 
                               placeholder="Enter your password" autocomplete="current-password">
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">Login</button>
                </form>
                <div class="auth-switch">
                    <p>Don't have an account? <a href="#" id="show-signup">Sign up here</a></p>
                </div>
            </div>
        </section>

        <!-- Signup Section -->
        <section id="signup-section" class="auth-section" style="display: none;">
            <div class="auth-card">
                <h2>Create Admin Account</h2>
                <form id="signup-form" class="form">
                    <div class="form-group">
                        <label for="signup-username">Username</label>
                        <input type="text" id="signup-username" name="username" required 
                               placeholder="admin" autocomplete="username">
                    </div>
                    <div class="form-group">
                        <label for="signup-email">Email Address</label>
                        <input type="email" id="signup-email" name="email" required 
                               placeholder="admin@example.com" autocomplete="email">
                    </div>
                    <div class="form-group">
                        <label for="signup-password">Password</label>
                        <input type="password" id="signup-password" name="password" required 
                               placeholder="Minimum 6 characters" autocomplete="new-password">
                        <small class="form-hint">Password must contain at least one lowercase letter, one uppercase letter, and one number</small>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">Create Account</button>
                </form>
                <div class="auth-switch">
                    <p>Already have an account? <a href="#" id="show-login">Login here</a></p>
                </div>
            </div>
        </section>

        <!-- Admin Dashboard -->
        <section id="admin-dashboard" class="dashboard-section" style="display: none;">
            <div class="dashboard-header">
                <h2>Notice Management Dashboard</h2>
                <p>Welcome back, <span id="welcome-user"></span>!</p>
            </div>
            
            <!-- Create Notice Form -->
            <div class="create-notice-card">
                <h3>üìù Create New Notice</h3>
                <form id="create-notice-form" class="form">
                    <div class="form-group">
                        <label for="notice-title">Notice Title</label>
                        <input type="text" id="notice-title" name="title" required 
                               placeholder="Enter notice title" maxlength="200">
                        <small class="form-hint">Maximum 200 characters</small>
                    </div>
                    <div class="form-group">
                        <label for="notice-content">Notice Content</label>
                        <textarea id="notice-content" name="content" required 
                                  placeholder="Enter notice content" rows="4" maxlength="2000"></textarea>
                        <small class="form-hint">Maximum 2000 characters</small>
                    </div>
                    <button type="submit" class="btn btn-success btn-full">Create Notice</button>
                </form>
            </div>

            <!-- Notices Management -->
            <div class="notices-management-card">
                <h3>üìã Manage Existing Notices</h3>
                <div id="admin-loading" class="loading">
                    <div class="spinner"></div>
                    <p>Loading notices...</p>
                </div>
                <div id="admin-notices-container" class="admin-notices-container"></div>
                <div id="admin-error-message" class="error-message" style="display: none;">
                    <h3>‚ö†Ô∏è Error</h3>
                    <p id="admin-error-text"></p>
                    <button onclick="adminPanel.loadNotices()" class="btn btn-primary">Retry</button>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2024 Notice Management System - Admin Panel</p>
        </div>
    </footer>

    <script src="admin.js"></script>
</body>
</html>